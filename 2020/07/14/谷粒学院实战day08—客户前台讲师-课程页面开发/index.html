<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>谷粒学院实战day08—客户前台讲师+课程页面开发 | Ryan</title><meta name="description" content="1、前台讲师列表首先看看想要的效果    分析：讲师列表主要是分页查询，然后点击某个讲师进入讲师详情页面（动态路由） 1.1、后端接口controller层clientTeacherController 1234567891011121314151617181920212223242526272829303132@RestController@RequestMapping(&quot;&#x2F;eduservice"><meta name="keywords" content="vue,springboot"><meta name="author" content="Ryan"><meta name="copyright" content="Ryan"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yoursite.com/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="谷粒学院实战day08—客户前台讲师+课程页面开发"><meta property="og:url" content="http://yoursite.com/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/"><meta property="og:site_name" content="Ryan"><meta property="og:description" content="1、前台讲师列表首先看看想要的效果    分析：讲师列表主要是分页查询，然后点击某个讲师进入讲师详情页面（动态路由） 1.1、后端接口controller层clientTeacherController 1234567891011121314151617181920212223242526272829303132@RestController@RequestMapping(&quot;&#x2F;eduservice"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-07-14T02:16:00.000Z"><meta property="article:modified_time" content="2020-07-14T17:46:29.834Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="prev" title="谷粒学院实战day09—课程订单和微信支付" href="http://yoursite.com/2020/07/15/%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day09%E2%80%94%E8%AF%BE%E7%A8%8B%E8%AE%A2%E5%8D%95%E5%92%8C%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"><link rel="next" title="谷粒学院实战day07—客户前台登陆功能开发(jwt)）" href="http://yoursite.com/2020/07/11/%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day07%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E7%99%BB%E9%99%86%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91-jwt-%EF%BC%89/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Ryan" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">23</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、前台讲师列表"><span class="toc-number">1.</span> <span class="toc-text">1、前台讲师列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1、后端接口"><span class="toc-number">1.1.</span> <span class="toc-text">1.1、后端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#controller层"><span class="toc-number">1.1.1.</span> <span class="toc-text">controller层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#service层"><span class="toc-number">1.1.2.</span> <span class="toc-text">service层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2、前台现实"><span class="toc-number">1.2.</span> <span class="toc-text">1.2、前台现实</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#api"><span class="toc-number">1.2.1.</span> <span class="toc-text">api</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pages"><span class="toc-number">1.2.2.</span> <span class="toc-text">pages</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#效果测试"><span class="toc-number">1.2.3.</span> <span class="toc-text">效果测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、前台课程列表"><span class="toc-number">2.</span> <span class="toc-text">2、前台课程列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1、后端接口"><span class="toc-number">2.1.</span> <span class="toc-text">2.1、后端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#封装课程详情实体类"><span class="toc-number">2.1.1.</span> <span class="toc-text">封装课程详情实体类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#controller层-1"><span class="toc-number">2.1.2.</span> <span class="toc-text">controller层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#service层-1"><span class="toc-number">2.1.3.</span> <span class="toc-text">service层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mapper"><span class="toc-number">2.1.4.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#swagger测试"><span class="toc-number">2.1.5.</span> <span class="toc-text">swagger测试</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2、前端接口"><span class="toc-number">2.2.</span> <span class="toc-text">2.2、前端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#api-1"><span class="toc-number">2.2.1.</span> <span class="toc-text">api</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pages-1"><span class="toc-number">2.2.2.</span> <span class="toc-text">pages</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#效果测试-1"><span class="toc-number">2.2.3.</span> <span class="toc-text">效果测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3、章节整合阿里云播放器"><span class="toc-number">3.</span> <span class="toc-text">3、章节整合阿里云播放器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1、简介与测试"><span class="toc-number">3.1.</span> <span class="toc-text">3.1、简介与测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2、后端接口"><span class="toc-number">3.2.</span> <span class="toc-text">3.2、后端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#controller层-2"><span class="toc-number">3.2.1.</span> <span class="toc-text">controller层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#service层-2"><span class="toc-number">3.2.2.</span> <span class="toc-text">service层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3、前端接口"><span class="toc-number">3.3.</span> <span class="toc-text">3.3、前端接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#api-2"><span class="toc-number">3.3.1.</span> <span class="toc-text">api</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#播放布局："><span class="toc-number">3.3.2.</span> <span class="toc-text">播放布局：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#播放页面"><span class="toc-number">3.3.3.</span> <span class="toc-text">播放页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#效果测试-2"><span class="toc-number">3.3.4.</span> <span class="toc-text">效果测试</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Ryan</a></span><span class="pull-right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">谷粒学院实战day08—客户前台讲师+课程页面开发</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-07-14 10:16:00"><i class="far fa-calendar-alt fa-fw"></i> 发表于 2020-07-14</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-07-15 01:46:29"><i class="fas fa-history fa-fw"></i> 更新于 2020-07-15</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fas fa-inbox fa-fw post-meta__icon"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/">前后端分离</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta__icon"></i><span>字数总计:</span><span class="word-count">8.7k</span><span class="post-meta__separator">|</span><i class="far fa-clock fa-fw post-meta__icon"></i><span>阅读时长: 46 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="far fa-eye fa-fw post-meta__icon"></i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>评论数:</span><a href="/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="1、前台讲师列表"><a href="#1、前台讲师列表" class="headerlink" title="1、前台讲师列表"></a>1、前台讲师列表</h2><p>首先看看想要的效果</p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214823.png" alt="image-20200713214823494"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214839.png" alt=""></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214938.png" alt="image-20200713214938224"></p>
<p>分析：讲师列表主要是分页查询，然后点击某个讲师进入讲师详情页面（动态路由）</p>
<h3 id="1-1、后端接口"><a href="#1-1、后端接口" class="headerlink" title="1.1、后端接口"></a>1.1、后端接口</h3><h4 id="controller层"><a href="#controller层" class="headerlink" title="controller层"></a>controller层</h4><p>clientTeacherController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/eduservice/clientteacher"</span>)</span><br><span class="line"><span class="meta">@CrossOrigin</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientTeacherController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EduTeacherService eduTeacherService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EduCourseService eduCourseService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//分页查询教师，这次前台分页操作跟之前的后台不太一样，这里会将所有的数据返回</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/getPageTeacher/&#123;current&#125;/&#123;pageSize&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getPageTeacher</span><span class="params">(@PathVariable <span class="keyword">long</span> current, @PathVariable <span class="keyword">long</span> pageSize)</span></span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; map = eduTeacherService.getPageTeacher(current, pageSize);</span><br><span class="line">        <span class="keyword">return</span> R.ok().data(map);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//讲师详情</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/getTeacherInfo/&#123;teacherId&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getTeacherInfo</span><span class="params">(@PathVariable String teacherId)</span></span>&#123;</span><br><span class="line">        <span class="comment">//1 获取详情</span></span><br><span class="line">        EduTeacher teacher = eduTeacherService.getById(teacherId);</span><br><span class="line">        <span class="comment">//2 获取课程</span></span><br><span class="line">        QueryWrapper&lt;EduCourse&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        wrapper.eq(<span class="string">"teacher_id"</span>, teacherId);</span><br><span class="line">        List&lt;EduCourse&gt; courseList = eduCourseService.list(wrapper);</span><br><span class="line">        <span class="comment">//3 返回数据</span></span><br><span class="line">        <span class="keyword">return</span> R.ok().data(<span class="string">"teacher"</span>,teacher).data(<span class="string">"courseList"</span>, courseList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="service层"><a href="#service层" class="headerlink" title="service层"></a>service层</h4><p>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Map&lt;String, Object&gt; <span class="title">getPageTeacher</span><span class="params">(<span class="keyword">long</span> current, <span class="keyword">long</span> pageSize)</span></span>;</span><br></pre></td></tr></table></figure>

<p>实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前台分页查询讲师</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getPageTeacher</span><span class="params">(<span class="keyword">long</span> current, <span class="keyword">long</span> pageSize)</span> </span>&#123;</span><br><span class="line">    Page&lt;EduTeacher&gt; teacherPage = <span class="keyword">new</span> Page&lt;&gt;(current, pageSize);</span><br><span class="line">    QueryWrapper&lt;EduTeacher&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">    wrapper.orderByDesc(<span class="string">"id"</span>);</span><br><span class="line">    baseMapper.selectPage(teacherPage, wrapper);</span><br><span class="line">    <span class="comment">//这里不再只返回total和rows了，而是将所有数据放到map集合中返回</span></span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    List&lt;EduTeacher&gt; rows = teacherPage.getRecords();</span><br><span class="line">    <span class="keyword">long</span> pages = teacherPage.getPages();</span><br><span class="line">    <span class="keyword">long</span> current1 = teacherPage.getCurrent();</span><br><span class="line">    <span class="keyword">long</span> total = teacherPage.getTotal();</span><br><span class="line">    <span class="keyword">long</span> size = teacherPage.getSize();</span><br><span class="line">    <span class="keyword">boolean</span> hasNext = teacherPage.hasNext();</span><br><span class="line">    <span class="keyword">boolean</span> hasPrevious = teacherPage.hasPrevious();</span><br><span class="line"></span><br><span class="line">    map.put(<span class="string">"items"</span>, rows);</span><br><span class="line">    map.put(<span class="string">"pages"</span>, pages);</span><br><span class="line">    map.put(<span class="string">"current"</span>, current1);</span><br><span class="line">    map.put(<span class="string">"total"</span>, total);</span><br><span class="line">    map.put(<span class="string">"size"</span>, size);</span><br><span class="line">    map.put(<span class="string">"hasNext"</span>, hasNext);</span><br><span class="line">    map.put(<span class="string">"hasPrevious"</span>, hasPrevious);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>swagger测试</p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713100538.png" alt="image-20200713100531498"></p>
<p>测试成功</p>
<h3 id="1-2、前台现实"><a href="#1-2、前台现实" class="headerlink" title="1.2、前台现实"></a>1.2、前台现实</h3><h4 id="api"><a href="#api" class="headerlink" title="api"></a>api</h4><p>teacher.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">"@/utils/request.js"</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">//分页查询讲师</span></span><br><span class="line">    getPageTeacher(current, pageSize)&#123;</span><br><span class="line">        <span class="keyword">return</span> request(&#123;</span><br><span class="line">            url: <span class="string">`/eduservice/clientteacher/getPageTeacher/<span class="subst">$&#123;current&#125;</span>/<span class="subst">$&#123;pageSize&#125;</span>`</span>,</span><br><span class="line">            method: <span class="string">'get'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//讲师详情</span></span><br><span class="line">    getTeacherInfo(teacherId)&#123;</span><br><span class="line">        <span class="keyword">return</span> request(&#123;</span><br><span class="line">            url: <span class="string">`/eduservice/clientteacher/getTeacherInfo/<span class="subst">$&#123;teacherId&#125;</span>`</span>,</span><br><span class="line">            method: <span class="string">'get'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="pages"><a href="#pages" class="headerlink" title="pages"></a>pages</h4><p>teacher目录下的index.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;</span><br><span class="line">    &lt;!-- 讲师列表 开始 --&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">      &lt;header class&#x3D;&quot;comm-title all-teacher-title&quot;&gt;</span><br><span class="line">        &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;c-333&quot;&gt;全部讲师&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">        &lt;section class&#x3D;&quot;c-tab-title&quot;&gt;</span><br><span class="line">          &lt;a id&#x3D;&quot;subjectAll&quot; title&#x3D;&quot;全部&quot; href&#x3D;&quot;#&quot;&gt;全部&lt;&#x2F;a&gt;</span><br><span class="line">          &lt;!-- &lt;c:forEach var&#x3D;&quot;subject&quot; items&#x3D;&quot;$&#123;subjectList &#125;&quot;&gt;</span><br><span class="line">                            &lt;a id&#x3D;&quot;$&#123;subject.subjectId&#125;&quot; title&#x3D;&quot;$&#123;subject.subjectName &#125;&quot; href&#x3D;&quot;javascript:void(0)&quot; onclick&#x3D;&quot;submitForm($&#123;subject.subjectId&#125;)&quot;&gt;$&#123;subject.subjectName &#125;&lt;&#x2F;a&gt;</span><br><span class="line">          &lt;&#x2F;c:forEach&gt;--&gt;</span><br><span class="line">        &lt;&#x2F;section&gt;</span><br><span class="line">      &lt;&#x2F;header&gt;</span><br><span class="line">      &lt;section class&#x3D;&quot;c-sort-box unBr&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 开始--&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;data.total&#x3D;&#x3D;0&quot;&gt;</span><br><span class="line">            &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 结束--&gt;</span><br><span class="line">          &lt;article v-if&#x3D;&quot;data.total&gt;0&quot; class&#x3D;&quot;i-teacher-list&quot;&gt;</span><br><span class="line">            &lt;ul class&#x3D;&quot;of&quot;&gt;</span><br><span class="line">              &lt;li v-for&#x3D;&quot;teacher in data.items&quot; :key&#x3D;&quot;teacher.id&quot;&gt;</span><br><span class="line">                &lt;section class&#x3D;&quot;i-teach-wrap&quot;&gt;</span><br><span class="line">                  &lt;div class&#x3D;&quot;i-teach-pic&quot;&gt;</span><br><span class="line">                    &lt;a :href&#x3D;&quot;&#39;&#x2F;teacher&#x2F;&#39;+teacher.id&quot; :title&#x3D;&quot;teacher.name&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">                      &lt;img :src&#x3D;&quot;teacher.avatar&quot; :alt&#x3D;&quot;teacher.name&quot;&gt;</span><br><span class="line">                    &lt;&#x2F;a&gt;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;div class&#x3D;&quot;mt10 hLh30 txtOf tac&quot;&gt;</span><br><span class="line">                    &lt;a :href&#x3D;&quot;&#39;&#x2F;teacher&#x2F;&#39;+teacher.id&quot; :title&#x3D;&quot;teacher.name&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;fsize18 c-666&quot;&gt;&#123;&#123;teacher.name&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;div class&#x3D;&quot;hLh30 txtOf tac&quot;&gt;</span><br><span class="line">                    &lt;span class&#x3D;&quot;fsize14 c-999&quot;&gt;&#123;&#123;teacher.intro&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;div class&#x3D;&quot;mt15 i-q-txt&quot;&gt;</span><br><span class="line">                    &lt;p class&#x3D;&quot;c-999 f-fA&quot;&gt;&#123;&#123;teacher.career&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;section&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">              </span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;article&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 公共分页 开始 --&gt;</span><br><span class="line">        &lt;!-- 公共分页 开始 --&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;paging&quot;&gt;</span><br><span class="line">          &lt;!-- undisable这个class是否存在，取决于数据属性hasPrevious --&gt;</span><br><span class="line">          &lt;a</span><br><span class="line">            :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;</span><br><span class="line">            href&#x3D;&quot;#&quot;</span><br><span class="line">            title&#x3D;&quot;首页&quot;</span><br><span class="line">            @click.prevent&#x3D;&quot;gotoPage(1)&quot;&gt;首页&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">          &lt;a</span><br><span class="line">            :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;</span><br><span class="line">            href&#x3D;&quot;#&quot;</span><br><span class="line">            title&#x3D;&quot;前一页&quot;</span><br><span class="line">            @click.prevent&#x3D;&quot;gotoPage(data.current-1)&quot;&gt;&lt;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">          &lt;a</span><br><span class="line">            v-for&#x3D;&quot;page in data.pages&quot;</span><br><span class="line">            :key&#x3D;&quot;page&quot;</span><br><span class="line">            :class&#x3D;&quot;&#123;current: data.current &#x3D;&#x3D; page, undisable: data.current &#x3D;&#x3D; page&#125;&quot;</span><br><span class="line">            :title&#x3D;&quot;&#39;第&#39;+page+&#39;页&#39;&quot;</span><br><span class="line">            href&#x3D;&quot;#&quot;</span><br><span class="line">            @click.prevent&#x3D;&quot;gotoPage(page)&quot;&gt;&#123;&#123; page &#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">          &lt;a</span><br><span class="line">            :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;</span><br><span class="line">            href&#x3D;&quot;#&quot;</span><br><span class="line">            title&#x3D;&quot;后一页&quot;</span><br><span class="line">            @click.prevent&#x3D;&quot;gotoPage(data.current+1)&quot;&gt;&gt;&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">          &lt;a</span><br><span class="line">            :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;</span><br><span class="line">            href&#x3D;&quot;#&quot;</span><br><span class="line">            title&#x3D;&quot;末页&quot;</span><br><span class="line">            @click.prevent&#x3D;&quot;gotoPage(data.pages)&quot;&gt;末页&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">          &lt;div class&#x3D;&quot;clear&quot;&#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;!-- 公共分页 结束 --&gt;</span><br><span class="line">        &lt;!-- 公共分页 结束 --&gt;</span><br><span class="line">      &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;!-- &#x2F;讲师列表 结束 --&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import teacherApi from &quot;@&#x2F;api&#x2F;teacher&quot;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F;这里写点不一样的，以往都是data..return什么的结构，这里使用异步调用</span><br><span class="line">  &#x2F;&#x2F;但是异步调用，只能调一次，并且不是加载时马上有数据，需要调用一次才会有数据</span><br><span class="line">  &#x2F;&#x2F;这里的params就相当于之前的this.$route.params.id 等价params.id</span><br><span class="line">  asyncData(&#123;params, error&#125;)&#123;</span><br><span class="line">    return teacherApi.getPageTeacher(1,8)</span><br><span class="line">      .then(response &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F;this.data &#x3D; response.data.data</span><br><span class="line">        &#x2F;&#x2F;这里的data会自动定义并返回数据</span><br><span class="line">        return &#123;data: response.data.data&#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F;分页方法</span><br><span class="line">    gotoPage(page)&#123;</span><br><span class="line">      teacherApi.getPageTeacher(page, 8)</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">          this.data &#x3D; response.data.data</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>teacher目录下的_id.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;</span><br><span class="line">    &lt;!-- 讲师介绍 开始 --&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">      &lt;header class&#x3D;&quot;comm-title&quot;&gt;</span><br><span class="line">        &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;c-333&quot;&gt;讲师介绍&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;header&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;t-infor-wrap&quot;&gt;</span><br><span class="line">        &lt;!-- 讲师基本信息 --&gt;</span><br><span class="line">        &lt;section class&#x3D;&quot;fl t-infor-box c-desc-content&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;mt20 ml20&quot;&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;t-infor-pic&quot;&gt;</span><br><span class="line">              &lt;img :src&#x3D;&quot;teacher.avatar&quot;&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;h3 class&#x3D;&quot;hLh30&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;fsize24 c-333&quot;&gt;&#123;&#123;teacher.name&#125;&#125;&amp;nbsp;&#123;&#123; teacher.level&#x3D;&#x3D;&#x3D;1?&#39;高级讲师&#39;:&#39;首席讲师&#39; &#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;h3&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;mt10&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;t-tag-bg&quot;&gt;&#123;&#123;teacher.intro&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;t-infor-txt&quot;&gt;</span><br><span class="line">              &lt;p</span><br><span class="line">                class&#x3D;&quot;mt20&quot;</span><br><span class="line">              &gt;&#123;&#123;teacher.career&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;section class&#x3D;&quot;mt30&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;header class&#x3D;&quot;comm-title all-teacher-title c-course-content&quot;&gt;</span><br><span class="line">            &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-333&quot;&gt;主讲课程&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;h2&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;c-tab-title&quot;&gt;</span><br><span class="line">              &lt;a href&#x3D;&quot;javascript: void(0)&quot;&gt;&amp;nbsp;&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;&#x2F;header&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 开始--&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;courseList.length&#x3D;&#x3D;0&quot;&gt;</span><br><span class="line">            &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 结束--&gt;</span><br><span class="line">          &lt;article class&#x3D;&quot;comm-course-list&quot;&gt;</span><br><span class="line">            &lt;ul class&#x3D;&quot;of&quot;&gt;</span><br><span class="line">              &lt;li v-for&#x3D;&quot;course in courseList&quot; :key&#x3D;&quot;course.id&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;cc-l-wrap&quot;&gt;</span><br><span class="line">                  &lt;section class&#x3D;&quot;course-img&quot;&gt;</span><br><span class="line">                    &lt;img :src&#x3D;&quot;course.cover&quot; class&#x3D;&quot;img-responsive&quot; &gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;cc-mask&quot;&gt;</span><br><span class="line">                      &lt;a href&#x3D;&quot;#&quot; :title&#x3D;&quot;course.title&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;comm-btn c-btn-1&quot;&gt;开始学习&lt;&#x2F;a&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;&#x2F;section&gt;</span><br><span class="line">                  &lt;h3 class&#x3D;&quot;hLh30 txtOf mt10&quot;&gt;</span><br><span class="line">                    &lt;a href&#x3D;&quot;#&quot; :title&#x3D;&quot;course.title&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;course-title fsize18 c-333&quot;&gt;&#123;&#123;course.title&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                  &lt;&#x2F;h3&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;article&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;!-- &#x2F;讲师介绍 结束 --&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import teacherApi from &quot;@&#x2F;api&#x2F;teacher&quot;</span><br><span class="line">export default &#123;</span><br><span class="line">  &#x2F;&#x2F;params.id等价于之前的this.$route.params.id</span><br><span class="line">  asyncData(&#123;params, error&#125;)&#123;</span><br><span class="line">    return teacherApi.getTeacherInfo(params.id)&#x2F;&#x2F;注意这个id名是根据文件名来的，如果文件是_tid，这里就是params.tid</span><br><span class="line">      .then(response &#x3D;&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          teacher: response.data.data.teacher,</span><br><span class="line">          courseList: response.data.data.courseList</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="效果测试"><a href="#效果测试" class="headerlink" title="效果测试"></a>效果测试</h4><p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713100828.png" alt="image-20200713100828818"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713100844.png" alt="image-20200713100844745"></p>
<h2 id="2、前台课程列表"><a href="#2、前台课程列表" class="headerlink" title="2、前台课程列表"></a>2、前台课程列表</h2><p>首先看下想要的效果</p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214751.png" alt="image-20200713214751009"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214713.png" alt="image-20200713214712939"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713214727.png" alt="image-20200713214727560"></p>
<p>分析：</p>
<ul>
<li>首先课程列表主要就是课程的分页+条件查询，而条件查询的话就需要查询条件的实体类封装，另外需要做到一二级分类的二级联动效果，具体可在前端实现，然后剩下的是排序查询；</li>
<li>点击某个讲师，进入讲师详情页面，里面涉及到的内容有课程基本信息、课程描述、讲师信息、章节信息，这样就涉及到多张表的信息了，不太适合封装实体类数据，建议可以写一个sql语句多表联查，像之前的发布课程那样</li>
</ul>
<h3 id="2-1、后端接口"><a href="#2-1、后端接口" class="headerlink" title="2.1、后端接口"></a>2.1、后端接口</h3><h4 id="封装课程详情实体类"><a href="#封装课程详情实体类" class="headerlink" title="封装课程详情实体类"></a>封装课程详情实体类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientCourseDetailVo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程标题"</span>)</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程销售价格，设置为0则可免费观看"</span>)</span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"总课时"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer lessonNum;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程封面图片路径"</span>)</span><br><span class="line">    <span class="keyword">private</span> String cover;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"销售数量"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long buyCount;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"浏览数量"</span>)</span><br><span class="line">    <span class="keyword">private</span> Long viewCount;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程简介"</span>)</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"讲师ID"</span>)</span><br><span class="line">    <span class="keyword">private</span> String teacherId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"讲师姓名"</span>)</span><br><span class="line">    <span class="keyword">private</span> String teacherName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"讲师资历,一句话说明讲师"</span>)</span><br><span class="line">    <span class="keyword">private</span> String intro;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"讲师头像"</span>)</span><br><span class="line">    <span class="keyword">private</span> String avatar;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程一级类别ID"</span>)</span><br><span class="line">    <span class="keyword">private</span> String subjectLevelOneId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"类别一级名称"</span>)</span><br><span class="line">    <span class="keyword">private</span> String subjectLevelOne;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"课程二级类别ID"</span>)</span><br><span class="line">    <span class="keyword">private</span> String subjectLevelTwoId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty</span>(value = <span class="string">"类别二级名称"</span>)</span><br><span class="line">    <span class="keyword">private</span> String subjectLevelTwo;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="controller层-1"><a href="#controller层-1" class="headerlink" title="controller层"></a>controller层</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/eduservice/clientcourse"</span>)</span><br><span class="line"><span class="meta">@CrossOrigin</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClientCourseController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EduCourseService eduCourseService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EduChapterService chapterService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//条件+分页查询课程列表，查询条件需要我们继续封装实体类</span></span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"/getCourseList/&#123;current&#125;/&#123;pageSize&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getCourseList</span><span class="params">(@PathVariable <span class="keyword">long</span> current,</span></span></span><br><span class="line"><span class="function"><span class="params">                           @PathVariable <span class="keyword">long</span> pageSize,</span></span></span><br><span class="line"><span class="function"><span class="params">                           @RequestBody(required = <span class="keyword">false</span>)</span> ClientCourseVo clientCourseVo)</span>&#123;</span><br><span class="line">        <span class="comment">//跟讲师列表一样，最后是返回map集合</span></span><br><span class="line">        Map&lt;String, Object&gt; map = eduCourseService.getCourseList(current, pageSize, clientCourseVo);</span><br><span class="line">        <span class="keyword">return</span> R.ok().data(map);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据课程id查询课程详情、章节和小节信息</span></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/getCourseDetail/&#123;courseId&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> R <span class="title">getCourseDetail</span><span class="params">(@PathVariable String courseId)</span></span>&#123;</span><br><span class="line">        <span class="comment">//课程详情</span></span><br><span class="line">        ClientCourseDetailVo courseDetailVo = eduCourseService.getCourseDetail(courseId);</span><br><span class="line">        <span class="comment">//章节信息，直接调用之前的api</span></span><br><span class="line">        List&lt;ChapterVo&gt; chapterVoList = chapterService.getCourseChapters(courseId);</span><br><span class="line">        <span class="comment">//返回数据</span></span><br><span class="line">        <span class="keyword">return</span> R.ok().data(<span class="string">"courseDetailVo"</span>,courseDetailVo).data(<span class="string">"chapterVoList"</span>,chapterVoList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="service层-1"><a href="#service层-1" class="headerlink" title="service层"></a>service层</h4><p>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Map&lt;String, Object&gt; <span class="title">getCourseList</span><span class="params">(<span class="keyword">long</span> current, <span class="keyword">long</span> pageSize, ClientCourseVo clientCourseVo)</span></span>;</span><br><span class="line"><span class="function">ClientCourseDetailVo <span class="title">getCourseDetail</span><span class="params">(String courseId)</span></span>;</span><br></pre></td></tr></table></figure>

<p>实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前台页面条件+分页查询课程列表</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">getCourseList</span><span class="params">(<span class="keyword">long</span> current, <span class="keyword">long</span> pageSize, ClientCourseVo clientCourseVo)</span> </span>&#123;</span><br><span class="line">    Page&lt;EduCourse&gt; coursePage = <span class="keyword">new</span> Page&lt;&gt;(current, pageSize);</span><br><span class="line">    QueryWrapper&lt;EduCourse&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">    wrapper.orderByDesc(<span class="string">"id"</span>);</span><br><span class="line">    <span class="keyword">if</span>(!StringUtils.isEmpty(clientCourseVo.getSubjectParentId()))&#123;<span class="comment">//一级分类</span></span><br><span class="line">        wrapper.eq(<span class="string">"subject_parent_id"</span>,clientCourseVo.getSubjectParentId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!StringUtils.isEmpty(clientCourseVo.getSubjectId()))&#123;<span class="comment">//二级分类</span></span><br><span class="line">        wrapper.eq(<span class="string">"subject_id"</span>, clientCourseVo.getSubjectId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!StringUtils.isEmpty(clientCourseVo.getBuyCountSort()))&#123;<span class="comment">//根据购买数量排序</span></span><br><span class="line">        wrapper.orderByDesc(<span class="string">"buy_count"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!StringUtils.isEmpty(clientCourseVo.getGmtCreateSort()))&#123;<span class="comment">//根据创建时间排序</span></span><br><span class="line">        wrapper.orderByDesc(<span class="string">"gmt_create"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!StringUtils.isEmpty(clientCourseVo.getPriceSort()))&#123;<span class="comment">//根据价格排序</span></span><br><span class="line">        wrapper.orderByDesc(<span class="string">"price"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    baseMapper.selectPage(coursePage, wrapper);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> current1 = coursePage.getCurrent();</span><br><span class="line">    <span class="keyword">long</span> pages = coursePage.getPages();</span><br><span class="line">    <span class="keyword">long</span> size = coursePage.getSize();</span><br><span class="line">    <span class="keyword">long</span> total = coursePage.getTotal();</span><br><span class="line">    List&lt;EduCourse&gt; records = coursePage.getRecords();</span><br><span class="line">    <span class="keyword">boolean</span> hasPrevious = coursePage.hasPrevious();</span><br><span class="line">    <span class="keyword">boolean</span> hasNext = coursePage.hasNext();</span><br><span class="line"></span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">"current"</span>, current1);</span><br><span class="line">    map.put(<span class="string">"pages"</span>, pages);</span><br><span class="line">    map.put(<span class="string">"size"</span>, size);</span><br><span class="line">    map.put(<span class="string">"total"</span>, total);</span><br><span class="line">    map.put(<span class="string">"items"</span>, records);</span><br><span class="line">    map.put(<span class="string">"hasPrevious"</span>, hasPrevious);</span><br><span class="line">    map.put(<span class="string">"hasNext"</span>, hasNext);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//点击课程查询课程详情页</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ClientCourseDetailVo <span class="title">getCourseDetail</span><span class="params">(String courseId)</span> </span>&#123;</span><br><span class="line">    ClientCourseDetailVo courseDetailVo = baseMapper.getCourseDetail(courseId);</span><br><span class="line">    <span class="keyword">return</span> courseDetailVo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h4><p>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ClientCourseDetailVo <span class="title">getCourseDetail</span><span class="params">(String courseId)</span></span>;</span><br></pre></td></tr></table></figure>

<p>xml文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getCourseDetail"</span> <span class="attr">resultType</span>=<span class="string">"com.ryan.eduservice.entity.clientvo.ClientCourseDetailVo"</span>&gt;</span></span><br><span class="line">    SELECT</span><br><span class="line">        ec.id,ec.title,ec.price,ec.lesson_num as lessonNum,ec.cover,</span><br><span class="line">        ec.buy_count as buyCount,ec.view_count as viewCount,</span><br><span class="line">        ecd.description,et.id,et.name as teacherName,et.intro,et.avatar,</span><br><span class="line">        es1.id as subjectLevelOneId,es1.title as subjectLevelOne,</span><br><span class="line">        es2.id as subjectLevelTwoId,es2.title as subjectLevelTwo</span><br><span class="line"></span><br><span class="line">    FROM edu_course ec</span><br><span class="line">        LEFT JOIN edu_course_description ecd ON ec.id = ecd.id</span><br><span class="line">        LEFT JOIN edu_teacher et ON ec.teacher_id = et.id</span><br><span class="line">        LEFT JOIN edu_subject es1 ON ec.subject_parent_id = es1.id</span><br><span class="line">        LEFT JOIN edu_subject es2 ON ec.subject_id = es2.id</span><br><span class="line">    WHERE ec.id = #&#123;courseId&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="swagger测试"><a href="#swagger测试" class="headerlink" title="swagger测试"></a>swagger测试</h4><p>课程列表</p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713223053.png" alt="image-20200713223053380"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713223127.png" alt="image-20200713223127055"></p>
<p>课程详情</p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713222922.png" alt="image-20200713222922683"></p>
<p>测试成功</p>
<h3 id="2-2、前端接口"><a href="#2-2、前端接口" class="headerlink" title="2.2、前端接口"></a>2.2、前端接口</h3><h4 id="api-1"><a href="#api-1" class="headerlink" title="api"></a>api</h4><p>course.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">"@/utils/request.js"</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">//条件+分页查询课程</span></span><br><span class="line">    getCourseList(current, pageSize, clientCourseVo)&#123;</span><br><span class="line">        <span class="keyword">return</span> request(&#123;</span><br><span class="line">            url: <span class="string">`/eduservice/clientcourse/getCourseList/<span class="subst">$&#123;current&#125;</span>/<span class="subst">$&#123;pageSize&#125;</span>`</span>,</span><br><span class="line">            method: <span class="string">'post'</span>,</span><br><span class="line">            data: clientCourseVo</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//获取课程分类</span></span><br><span class="line">    getOneSubject()&#123;</span><br><span class="line">        <span class="keyword">return</span> request(&#123;</span><br><span class="line">            url: <span class="string">`/eduservice/edu-subject/subjectList`</span>,</span><br><span class="line">            method: <span class="string">'get'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="pages-1"><a href="#pages-1" class="headerlink" title="pages"></a>pages</h4><p>course目录下的index.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;</span><br><span class="line">    &lt;!-- &#x2F;课程列表 开始 --&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">      &lt;header class&#x3D;&quot;comm-title&quot;&gt;</span><br><span class="line">        &lt;h2 class&#x3D;&quot;fl tac&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;c-333&quot;&gt;全部课程&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;&#x2F;header&gt;</span><br><span class="line">      &lt;section class&#x3D;&quot;c-sort-box&quot;&gt;</span><br><span class="line">        &lt;section class&#x3D;&quot;c-s-dl&quot;&gt;</span><br><span class="line">          &lt;dl&gt;</span><br><span class="line">            &lt;dt&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-999 fsize14&quot;&gt;课程类别&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;dt&gt;</span><br><span class="line">            &lt;dd class&#x3D;&quot;c-s-dl-li&quot;&gt;</span><br><span class="line">              &lt;ul class&#x3D;&quot;clearfix&quot;&gt;</span><br><span class="line">                &lt;li&gt;</span><br><span class="line">                  &lt;a title&#x3D;&quot;全部&quot; href&#x3D;&quot;#&quot;&gt;全部&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;&#x2F;li&gt;</span><br><span class="line">                &lt;li v-for&#x3D;&quot;(item,index) in subjectNestedList&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;active:oneIndex&#x3D;&#x3D;index&#125;&quot;&gt;</span><br><span class="line">                  &lt;a :title&#x3D;&quot;item.title&quot; href&#x3D;&quot;#&quot; @click&#x3D;&quot;searchOne(item.id,index)&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;&#x2F;li&gt;</span><br><span class="line">              &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;&#x2F;dd&gt;</span><br><span class="line">          &lt;&#x2F;dl&gt;</span><br><span class="line">          &lt;dl&gt;</span><br><span class="line">            &lt;dt&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-999 fsize14&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;dt&gt;</span><br><span class="line">            &lt;dd class&#x3D;&quot;c-s-dl-li&quot;&gt;</span><br><span class="line">              &lt;ul class&#x3D;&quot;clearfix&quot;&gt;</span><br><span class="line">                &lt;li v-for&#x3D;&quot;(item,index) in subSubjectList&quot; :key&#x3D;&quot;index&quot; :class&#x3D;&quot;&#123;active:twoIndex&#x3D;&#x3D;index&#125;&quot;&gt;</span><br><span class="line">                  &lt;a :title&#x3D;&quot;item.title&quot; href&#x3D;&quot;#&quot; @click&#x3D;&quot;searchTwo(item.id, index)&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;&#x2F;li&gt;</span><br><span class="line">              &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;&#x2F;dd&gt;</span><br><span class="line">          &lt;&#x2F;dl&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;js-wrap&quot;&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;fr&quot;&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;c-ccc&quot;&gt;</span><br><span class="line">              &lt;i class&#x3D;&quot;c-master f-fM&quot;&gt;1&lt;&#x2F;i&gt;&#x2F;</span><br><span class="line">              &lt;i class&#x3D;&quot;c-666 f-fM&quot;&gt;1&lt;&#x2F;i&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;fl&quot;&gt;</span><br><span class="line">            &lt;ol class&#x3D;&quot;js-tap clearfix&quot;&gt;</span><br><span class="line">              &lt;li&gt;</span><br><span class="line">                &lt;a title&#x3D;&quot;关注度&quot; href&#x3D;&quot;#&quot;&gt;关注度&lt;&#x2F;a&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">              &lt;li&gt;</span><br><span class="line">                &lt;a title&#x3D;&quot;最新&quot; href&#x3D;&quot;#&quot;&gt;最新&lt;&#x2F;a&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">              &lt;li class&#x3D;&quot;current bg-orange&quot;&gt;</span><br><span class="line">                &lt;a title&#x3D;&quot;价格&quot; href&#x3D;&quot;#&quot;&gt;价格&amp;nbsp;</span><br><span class="line">                  &lt;span&gt;↓&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;&#x2F;a&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ol&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;mt40&quot;&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 开始--&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;no-data-wrap&quot; v-if&#x3D;&quot;data.total&#x3D;&#x3D;0&quot;&gt;</span><br><span class="line">            &lt;em class&#x3D;&quot;icon30 no-data-ico&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;c-666 fsize14 ml10 vam&quot;&gt;没有相关数据，小编正在努力整理中...&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;!-- &#x2F;无数据提示 结束--&gt;</span><br><span class="line">          &lt;article class&#x3D;&quot;comm-course-list&quot;&gt;</span><br><span class="line">            &lt;ul class&#x3D;&quot;of&quot; id&#x3D;&quot;bna&quot;&gt;</span><br><span class="line">              &lt;li v-for&#x3D;&quot;(course,index) in data.items&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;cc-l-wrap&quot;&gt;</span><br><span class="line">                  &lt;section class&#x3D;&quot;course-img&quot;&gt;</span><br><span class="line">                    &lt;img :src&#x3D;&quot;course.cover&quot; class&#x3D;&quot;img-responsive&quot; :alt&#x3D;&quot;course.title&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;cc-mask&quot;&gt;</span><br><span class="line">                      &lt;a :href&#x3D;&quot;&#39;&#x2F;course&#x2F;&#39; + course.id&quot; :title&#x3D;&quot;course.title&quot; class&#x3D;&quot;comm-btn c-btn-1&quot;&gt;开始学习&lt;&#x2F;a&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;&#x2F;section&gt;</span><br><span class="line">                  &lt;h3 class&#x3D;&quot;hLh30 txtOf mt10&quot;&gt;</span><br><span class="line">                    &lt;a :href&#x3D;&quot;&#39;&#x2F;course&#x2F;&#39; + course.id&quot; :title&#x3D;&quot;course.title&quot; class&#x3D;&quot;course-title fsize18 c-333&quot;&gt;&#123;&#123;course.title&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                  &lt;&#x2F;h3&gt;</span><br><span class="line">                  &lt;section class&#x3D;&quot;mt10 hLh20 of&quot;&gt;</span><br><span class="line">                    &lt;span class&#x3D;&quot;fr jgTag bg-green&quot; v-if&#x3D;&quot;Number(course.price&#x3D;&#x3D;&#x3D;0)&quot;&gt;</span><br><span class="line">                      &lt;i class&#x3D;&quot;c-fff fsize12 f-fA&quot;&gt;免费&lt;&#x2F;i&gt;</span><br><span class="line">                    &lt;&#x2F;span&gt;</span><br><span class="line">                    &lt;span class&#x3D;&quot;fl jgAttr c-ccc f-fA&quot;&gt;</span><br><span class="line">                      &lt;i class&#x3D;&quot;c-999 f-fA&quot;&gt;&#123;&#123;course.buyCount&#125;&#125;人已学习&lt;&#x2F;i&gt;</span><br><span class="line">                      |</span><br><span class="line">                      &lt;i class&#x3D;&quot;c-999 f-fA&quot;&gt;&#123;&#123;course.viewCount&#125;&#125;人浏览过&lt;&#x2F;i&gt;</span><br><span class="line">                    &lt;&#x2F;span&gt;</span><br><span class="line">                  &lt;&#x2F;section&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">              &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;&#x2F;ul&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;article&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 公共分页 开始 --&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;paging&quot;&gt;</span><br><span class="line">            &lt;!-- undisable这个class是否存在，取决于数据属性hasPrevious --&gt;</span><br><span class="line">            &lt;a</span><br><span class="line">              :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;</span><br><span class="line">              href&#x3D;&quot;#&quot;</span><br><span class="line">              title&#x3D;&quot;首页&quot;</span><br><span class="line">              @click.prevent&#x3D;&quot;gotoPage(1)&quot;&gt;首&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a</span><br><span class="line">              :class&#x3D;&quot;&#123;undisable: !data.hasPrevious&#125;&quot;</span><br><span class="line">              href&#x3D;&quot;#&quot;</span><br><span class="line">              title&#x3D;&quot;前一页&quot;</span><br><span class="line">              @click.prevent&#x3D;&quot;gotoPage(data.current-1)&quot;&gt;&lt;&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a</span><br><span class="line">              v-for&#x3D;&quot;page in data.pages&quot;</span><br><span class="line">              :key&#x3D;&quot;page&quot;</span><br><span class="line">              :class&#x3D;&quot;&#123;current: data.current &#x3D;&#x3D; page, undisable: data.current &#x3D;&#x3D; page&#125;&quot;</span><br><span class="line">              :title&#x3D;&quot;&#39;第&#39;+page+&#39;页&#39;&quot;</span><br><span class="line">              href&#x3D;&quot;#&quot;</span><br><span class="line">              @click.prevent&#x3D;&quot;gotoPage(page)&quot;&gt;&#123;&#123; page &#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a</span><br><span class="line">              :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;</span><br><span class="line">              href&#x3D;&quot;#&quot;</span><br><span class="line">              title&#x3D;&quot;后一页&quot;</span><br><span class="line">              @click.prevent&#x3D;&quot;gotoPage(data.current+1)&quot;&gt;&gt;&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;a</span><br><span class="line">              :class&#x3D;&quot;&#123;undisable: !data.hasNext&#125;&quot;</span><br><span class="line">              href&#x3D;&quot;#&quot;</span><br><span class="line">              title&#x3D;&quot;末页&quot;</span><br><span class="line">              @click.prevent&#x3D;&quot;gotoPage(data.pages)&quot;&gt;末&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;clear&quot;&#x2F;&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;!-- 公共分页 结束 --&gt;</span><br><span class="line">      &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;!-- &#x2F;课程列表 结束 --&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import courseApi from &quot;@&#x2F;api&#x2F;course&quot;</span><br><span class="line">export default &#123;</span><br><span class="line"></span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      page:1, &#x2F;&#x2F;当前页</span><br><span class="line">      data:&#123;&#125;,  &#x2F;&#x2F;课程列表</span><br><span class="line">      subjectNestedList: [], &#x2F;&#x2F; 一级分类列表</span><br><span class="line">      subSubjectList: [], &#x2F;&#x2F; 二级分类列表</span><br><span class="line"></span><br><span class="line">      searchObj: &#123;&#125;, &#x2F;&#x2F; 查询表单对象</span><br><span class="line"></span><br><span class="line">      oneIndex:-1,</span><br><span class="line">      twoIndex:-1,</span><br><span class="line">      buyCountSort:&quot;&quot;,</span><br><span class="line">      gmtCreateSort:&quot;&quot;,</span><br><span class="line">      priceSort:&quot;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created()&#123;</span><br><span class="line">    this.initCourse()</span><br><span class="line">    this.initOneSubject()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    &#x2F;&#x2F;1 初始化页面，包括一级分类、课程列表第一页</span><br><span class="line">    initCourse()&#123;</span><br><span class="line">      courseApi.getCourseList(1,8,this.searchObj)</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">          this.data &#x3D; response.data.data</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;2 初始化一级分类</span><br><span class="line">    initOneSubject()&#123;</span><br><span class="line">      courseApi.getOneSubject()</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">          this.subjectNestedList &#x3D; response.data.data.list</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;3 分页切换的方法</span><br><span class="line">    gotoPage(page) &#123;</span><br><span class="line">      courseApi.getCourseList(page,8,this.searchObj).then(response &#x3D;&gt; &#123;</span><br><span class="line">        this.data &#x3D; response.data.data</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;4 点击一级分类，查询二级分类，跟之前的一样，将传过来的id跟所有的一级分类id做比较</span><br><span class="line">    searchOne(subjectParentId, index)&#123;</span><br><span class="line">      &#x2F;&#x2F;将传过来的index赋值给oneIndex，是为了让样式生效</span><br><span class="line">      this.oneIndex &#x3D; index</span><br><span class="line">      &#x2F;&#x2F;其他值还是原始值</span><br><span class="line">      this.twoIndex &#x3D; -1</span><br><span class="line">      this.searchObj.subjectId &#x3D; &quot;&quot;</span><br><span class="line">      this.subSubjectList &#x3D; []</span><br><span class="line"></span><br><span class="line">      &#x2F;&#x2F;把一级分类点击id值，赋值给searchObj</span><br><span class="line">      this.searchObj.subjectParentId &#x3D; subjectParentId</span><br><span class="line">      &#x2F;&#x2F;点击某个一级分类进行条件查询</span><br><span class="line">      this.gotoPage(1)</span><br><span class="line"></span><br><span class="line">      for(var i &#x3D; 0; i &lt; this.subjectNestedList.length; i++)&#123;</span><br><span class="line">        &#x2F;&#x2F;如果相等则查询对应的二级分类</span><br><span class="line">        var oneSubject &#x3D; this.subjectNestedList[i]</span><br><span class="line">        if(subjectParentId &#x3D;&#x3D; oneSubject.id)&#123;</span><br><span class="line">          this.subSubjectList &#x3D; oneSubject.children</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F;5 点击二级分类</span><br><span class="line">    searchTwo(subjectId, index)&#123;</span><br><span class="line">      &#x2F;&#x2F;赋值index，为了样式生效</span><br><span class="line">      this.twoIndex &#x3D; index</span><br><span class="line">      &#x2F;&#x2F;把二级分类的id传给searchObj</span><br><span class="line">      this.searchObj.subjectId &#x3D; subjectId</span><br><span class="line">      this.gotoPage(1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .active &#123;</span><br><span class="line">    background: #bdbdbd;</span><br><span class="line">  &#125;</span><br><span class="line">  .hide &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">  .show &#123;</span><br><span class="line">    display: block;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>course目录下的_id.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;aCoursesList&quot; class&#x3D;&quot;bg-fa of&quot;&gt;</span><br><span class="line">    &lt;!-- &#x2F;课程详情 开始 --&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">      &lt;section class&#x3D;&quot;path-wrap txtOf hLh30&quot;&gt;</span><br><span class="line">        &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;首页&lt;&#x2F;a&gt;</span><br><span class="line">        \</span><br><span class="line">        &lt;a href&#x3D;&quot;#&quot; title class&#x3D;&quot;c-999 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelOne&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">        \</span><br><span class="line">        &lt;span class&#x3D;&quot;c-333 fsize14&quot;&gt;&#123;&#123;courseWebVo.subjectLevelTwo&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;section&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;article class&#x3D;&quot;c-v-pic-wrap&quot; style&#x3D;&quot;height: 357px;&quot;&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;p-h-video-box&quot; id&#x3D;&quot;videoPlay&quot;&gt;</span><br><span class="line">            &lt;img height&#x3D;&quot;357px&quot; :src&#x3D;&quot;courseWebVo.cover&quot; :alt&#x3D;&quot;courseWebVo.title&quot; class&#x3D;&quot;dis c-v-pic&quot;&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;&#x2F;article&gt;</span><br><span class="line">        &lt;aside class&#x3D;&quot;c-attr-wrap&quot;&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;ml20 mr15&quot;&gt;</span><br><span class="line">            &lt;h2 class&#x3D;&quot;hLh30 txtOf mt15&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-fff fsize24&quot;&gt;&#123;&#123;courseWebVo.title&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;h2&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;c-attr-jg&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-fff&quot;&gt;价格：&lt;&#x2F;span&gt;</span><br><span class="line">              &lt;b class&#x3D;&quot;c-yellow&quot; style&#x3D;&quot;font-size:24px;&quot;&gt;￥&#123;&#123;courseWebVo.price&#125;&#125;&lt;&#x2F;b&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;c-attr-mt c-attr-undis&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;c-fff fsize14&quot;&gt;主讲： &#123;&#123;courseWebVo.teacherName&#125;&#125;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;c-attr-mt of&quot;&gt;</span><br><span class="line">              &lt;span class&#x3D;&quot;ml10 vam&quot;&gt;</span><br><span class="line">                &lt;em class&#x3D;&quot;icon18 scIcon&quot;&gt;&lt;&#x2F;em&gt;</span><br><span class="line">                &lt;a class&#x3D;&quot;c-fff vam&quot; title&#x3D;&quot;收藏&quot; href&#x3D;&quot;#&quot; &gt;收藏&lt;&#x2F;a&gt;</span><br><span class="line">              &lt;&#x2F;span&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;section class&#x3D;&quot;c-attr-mt&quot;&gt;</span><br><span class="line">              &lt;a @click&#x3D;&quot;createOrders()&quot; href&#x3D;&quot;#&quot; title&#x3D;&quot;立即购买&quot; class&#x3D;&quot;comm-btn c-btn-3&quot;&gt;立即购买&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;section&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;&#x2F;aside&gt;</span><br><span class="line">        &lt;aside class&#x3D;&quot;thr-attr-box&quot;&gt;</span><br><span class="line">          &lt;ol class&#x3D;&quot;thr-attr-ol&quot;&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;</span><br><span class="line">              &lt;aside&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;购买数&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;&#123;&#123;courseWebVo.buyCount&#125;&#125;&lt;&#x2F;h6&gt;</span><br><span class="line">              &lt;&#x2F;aside&gt;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;</span><br><span class="line">              &lt;aside&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;课时数&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;20&lt;&#x2F;h6&gt;</span><br><span class="line">              &lt;&#x2F;aside&gt;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">              &lt;p&gt;&amp;nbsp;&lt;&#x2F;p&gt;</span><br><span class="line">              &lt;aside&gt;</span><br><span class="line">                &lt;span class&#x3D;&quot;c-fff f-fM&quot;&gt;浏览数&lt;&#x2F;span&gt;</span><br><span class="line">                &lt;br&gt;</span><br><span class="line">                &lt;h6 class&#x3D;&quot;c-fff f-fM mt10&quot;&gt;501&lt;&#x2F;h6&gt;</span><br><span class="line">              &lt;&#x2F;aside&gt;</span><br><span class="line">            &lt;&#x2F;li&gt;</span><br><span class="line">          &lt;&#x2F;ol&gt;</span><br><span class="line">        &lt;&#x2F;aside&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;!-- &#x2F;课程封面介绍 --&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;mt20 c-infor-box&quot;&gt;</span><br><span class="line">        &lt;article class&#x3D;&quot;fl col-7&quot;&gt;</span><br><span class="line">          &lt;section class&#x3D;&quot;mr30&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;i-box&quot;&gt;</span><br><span class="line">              &lt;div&gt;</span><br><span class="line">                &lt;section id&#x3D;&quot;c-i-tabTitle&quot; class&#x3D;&quot;c-infor-tabTitle c-tab-title&quot;&gt;</span><br><span class="line">                  &lt;a name&#x3D;&quot;c-i&quot; class&#x3D;&quot;current&quot; title&#x3D;&quot;课程详情&quot;&gt;课程详情&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;&#x2F;section&gt;</span><br><span class="line">              &lt;&#x2F;div&gt;</span><br><span class="line">              &lt;article class&#x3D;&quot;ml10 mr10 pt20&quot;&gt;</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                  &lt;h6 class&#x3D;&quot;c-i-content c-infor-title&quot;&gt;</span><br><span class="line">                    &lt;span&gt;课程介绍&lt;&#x2F;span&gt;</span><br><span class="line">                  &lt;&#x2F;h6&gt;</span><br><span class="line">                  &lt;div class&#x3D;&quot;course-txt-body-wrap&quot;&gt;</span><br><span class="line">                    &lt;section class&#x3D;&quot;course-txt-body&quot;&gt;</span><br><span class="line">                      &lt;p v-html&#x3D;&quot;courseWebVo.description&quot;&gt;&#123;&#123;courseWebVo.description&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">                    &lt;&#x2F;section&gt;</span><br><span class="line">                  &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;!-- &#x2F;课程介绍 --&gt;</span><br><span class="line">                &lt;div class&#x3D;&quot;mt50&quot;&gt;</span><br><span class="line">                  &lt;h6 class&#x3D;&quot;c-g-content c-infor-title&quot;&gt;</span><br><span class="line">                    &lt;span&gt;课程大纲&lt;&#x2F;span&gt;</span><br><span class="line">                  &lt;&#x2F;h6&gt;</span><br><span class="line">                  &lt;section class&#x3D;&quot;mt20&quot;&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;lh-menu-wrap&quot;&gt;</span><br><span class="line">                      &lt;menu id&#x3D;&quot;lh-menu&quot; class&#x3D;&quot;lh-menu mt10 mr10&quot;&gt;</span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                          &lt;!-- 文件目录 --&gt;</span><br><span class="line">                          &lt;li class&#x3D;&quot;lh-menu-stair&quot; v-for&#x3D;&quot;chapter in chapterVideoList&quot; :key&#x3D;&quot;chapter.id&quot;&gt;</span><br><span class="line">                            &lt;a href&#x3D;&quot;javascript: void(0)&quot; :title&#x3D;&quot;chapter.title&quot; class&#x3D;&quot;current-1&quot;&gt;</span><br><span class="line">                              &lt;em class&#x3D;&quot;lh-menu-i-1 icon18 mr10&quot;&gt;&lt;&#x2F;em&gt;&#123;&#123;chapter.title&#125;&#125;</span><br><span class="line">                            &lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">                            &lt;ol class&#x3D;&quot;lh-menu-ol&quot; style&#x3D;&quot;display: block;&quot;&gt;</span><br><span class="line">                              &lt;li class&#x3D;&quot;lh-menu-second ml30&quot; v-for&#x3D;&quot;video in chapter.children&quot; :key&#x3D;&quot;video.id&quot;&gt;</span><br><span class="line">                                &lt;a :href&#x3D;&quot;&#39;&#x2F;player&#x2F;&#39;+video.videoSourceId&quot; target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">                                  &lt;span class&#x3D;&quot;fr&quot;&gt;</span><br><span class="line">                                    &lt;i class&#x3D;&quot;free-icon vam mr10&quot;&gt;免费试听&lt;&#x2F;i&gt;</span><br><span class="line">                                  &lt;&#x2F;span&gt;</span><br><span class="line">                                  &lt;em class&#x3D;&quot;lh-menu-i-2 icon16 mr5&quot;&gt;&amp;nbsp;&lt;&#x2F;em&gt;&#123;&#123;video.title&#125;&#125;</span><br><span class="line">                                &lt;&#x2F;a&gt;</span><br><span class="line">                              &lt;&#x2F;li&gt;</span><br><span class="line">                              </span><br><span class="line">                            &lt;&#x2F;ol&gt;</span><br><span class="line"></span><br><span class="line">                          &lt;&#x2F;li&gt;</span><br><span class="line">                        &lt;&#x2F;ul&gt;</span><br><span class="line">                      &lt;&#x2F;menu&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                  &lt;&#x2F;section&gt;</span><br><span class="line">                &lt;&#x2F;div&gt;</span><br><span class="line">                &lt;!-- &#x2F;课程大纲 --&gt;</span><br><span class="line">              &lt;&#x2F;article&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;section&gt;</span><br><span class="line">        &lt;&#x2F;article&gt;</span><br><span class="line">        &lt;aside class&#x3D;&quot;fl col-3&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;i-box&quot;&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">              &lt;section class&#x3D;&quot;c-infor-tabTitle c-tab-title&quot;&gt;</span><br><span class="line">                &lt;a title href&#x3D;&quot;javascript:void(0)&quot;&gt;主讲讲师&lt;&#x2F;a&gt;</span><br><span class="line">              &lt;&#x2F;section&gt;</span><br><span class="line">              &lt;section class&#x3D;&quot;stud-act-list&quot;&gt;</span><br><span class="line">                &lt;ul style&#x3D;&quot;height: auto;&quot;&gt;</span><br><span class="line">                  &lt;li&gt;</span><br><span class="line">                    &lt;div class&#x3D;&quot;u-face&quot;&gt;</span><br><span class="line">                      &lt;a href&#x3D;&quot;#&quot;&gt;</span><br><span class="line">                        &lt;img :src&#x3D;&quot;courseWebVo.avatar&quot; width&#x3D;&quot;50&quot; height&#x3D;&quot;50&quot; alt&gt;</span><br><span class="line">                      &lt;&#x2F;a&gt;</span><br><span class="line">                    &lt;&#x2F;div&gt;</span><br><span class="line">                    &lt;section class&#x3D;&quot;hLh30 txtOf&quot;&gt;</span><br><span class="line">                      &lt;a class&#x3D;&quot;c-333 fsize16 fl&quot; href&#x3D;&quot;#&quot;&gt;&#123;&#123;courseWebVo.teacherName&#125;&#125;&lt;&#x2F;a&gt;</span><br><span class="line">                    &lt;&#x2F;section&gt;</span><br><span class="line">                    &lt;section class&#x3D;&quot;hLh20 txtOf&quot;&gt;</span><br><span class="line">                      &lt;span class&#x3D;&quot;c-999&quot;&gt;&#123;&#123;courseWebVo.intro&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">                    &lt;&#x2F;section&gt;</span><br><span class="line">                  &lt;&#x2F;li&gt;</span><br><span class="line">                &lt;&#x2F;ul&gt;</span><br><span class="line">              &lt;&#x2F;section&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;aside&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;clear&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;!-- &#x2F;课程详情 结束 --&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import courseApi from &#39;@&#x2F;api&#x2F;course&#39;</span><br><span class="line">import orderApi from &#39;@&#x2F;api&#x2F;order&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">   asyncData(&#123; params, error &#125;) &#123;</span><br><span class="line">     return courseApi.getCourseDetail(params.id)</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            courseWebVo: response.data.data.courseDetailVo,</span><br><span class="line">            chapterVideoList: response.data.data.chapterVoList,</span><br><span class="line">            courseId:params.id</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">   &#125;,</span><br><span class="line">   methods:&#123;</span><br><span class="line">     &#x2F;&#x2F;生成订单</span><br><span class="line">     createOrders() &#123;</span><br><span class="line">       orderApi.createOrder(this.courseId)</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">          &#x2F;&#x2F;获取返回订单号</span><br><span class="line">          &#x2F;&#x2F;生成订单之后，跳转订单显示页面</span><br><span class="line">          this.$router.push(&#123;path:&#39;&#x2F;order&#x2F;&#39;+response.data.data.orderId&#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="效果测试-1"><a href="#效果测试-1" class="headerlink" title="效果测试"></a>效果测试</h4><p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713230245.png" alt="image-20200713230245017"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713230255.png" alt="image-20200713230255470"></p>
<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200713230307.png" alt="image-20200713230306922"></p>
<h2 id="3、章节整合阿里云播放器"><a href="#3、章节整合阿里云播放器" class="headerlink" title="3、章节整合阿里云播放器"></a>3、章节整合阿里云播放器</h2><h3 id="3-1、简介与测试"><a href="#3-1、简介与测试" class="headerlink" title="3.1、简介与测试"></a>3.1、简介与测试</h3><p>从上面的开发中可以看到最后章节列表都出来了，那么当我们点击某一小节的时候，应该跳转到播放视频的页面，这个具体怎么做到的呢？</p>
<p>这里就需要整合阿里云提供的播放器服务了，之前都学过，播放阿里云的视频有两种方式，一种是根据视频地址来播放，一种是根据视频凭证来播放，因为有些视频是加密过的，而加密的视频无法直接通过视频地址来播放，所以我们都统一采用播放凭证来播放，那么又怎么获取播放凭证呢？我们之前在vod模块中写过接口</p>
<p>先来看看阿里云播放视频的两种方式</p>
<p>引入脚本文件和css文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://g.alicdn.com/de/prismplayer/2.8.1/skins/default/aliplayer-min.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>初始化视频播放器</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"prism-player"</span> <span class="attr">id</span>=<span class="string">"J_prismPlayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> player = <span class="keyword">new</span> Aliplayer(&#123;</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'J_prismPlayer'</span>,</span></span><br><span class="line"><span class="actionscript">            width: <span class="string">'100%'</span>,</span></span><br><span class="line"><span class="actionscript">            autoplay: <span class="literal">false</span>,<span class="comment">//是否自动播放</span></span></span><br><span class="line"><span class="actionscript">            cover: <span class="string">'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png'</span>,  <span class="comment">//视频封面</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//播放配置</span></span></span><br><span class="line"><span class="actionscript">        &#125;,<span class="function"><span class="keyword">function</span><span class="params">(player)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'播放器创建好了。'</span>)</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>播放地址播放</p>
<p>如果是通过视频地址播放，则在Aliplayer的配置参数中添加如下属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//播放方式一：支持播放地址播放,此播放优先级最高，此种方式不能播放加密视频</span></span><br><span class="line">source : <span class="string">'你的视频播放地址'</span>,</span><br></pre></td></tr></table></figure>

<p>播放凭证播放（推荐）</p>
<p>阿里云播放器支持通过播放凭证自动换取播放地址进行播放，接入方式更为简单，且安全性更高。播放凭证默认时效为100秒（最大为3000秒），只能用于获取指定视频的播放地址，不能混用或重复使用。如果凭证过期则无法获取播放地址，需要重新获取凭证。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">encryptType:<span class="string">'1'</span>,<span class="comment">//如果播放加密视频，则需设置encryptType=1，非加密视频无需设置此项</span></span><br><span class="line">vid : <span class="string">'视频id'</span>,<span class="comment">//也就是sourceId</span></span><br><span class="line">playauth : <span class="string">'视频授权码'</span>,</span><br></pre></td></tr></table></figure>

<p>注意：播放凭证有过期时间，默认值：100秒 。取值范围：<strong>100~3000</strong>。</p>
<p>设置播放凭证的有效期</p>
<p>在获取播放凭证的测试用例中添加如下代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setAuthInfoTimeout(<span class="number">200L</span>);</span><br></pre></td></tr></table></figure>

<p>测试播放地址：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://g.alicdn.com/de/prismplayer/2.8.1/skins/default/aliplayer-min.css"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://g.alicdn.com/de/prismplayer/2.8.1/aliplayer-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"prism-player"</span> <span class="attr">id</span>=<span class="string">"J_prismPlayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> player = <span class="keyword">new</span> Aliplayer(&#123;</span></span><br><span class="line"><span class="actionscript">            id: <span class="string">'J_prismPlayer'</span>,</span></span><br><span class="line"><span class="actionscript">            width: <span class="string">'100%'</span>,</span></span><br><span class="line"><span class="actionscript">            autoplay: <span class="literal">false</span>,<span class="comment">//是否自动播放</span></span></span><br><span class="line"><span class="actionscript">            cover: <span class="string">'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png'</span>,  <span class="comment">//视频封面</span></span></span><br><span class="line"><span class="actionscript">            source: <span class="string">'your video url'</span></span></span><br><span class="line"><span class="actionscript">            <span class="comment">//播放配置</span></span></span><br><span class="line"><span class="actionscript">        &#125;,<span class="function"><span class="keyword">function</span><span class="params">(player)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">'播放器创建好了。'</span>)</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200714004033.png" alt="image-20200714004032966"></p>
<p>测试播放凭证</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">HTML</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"x-ua-compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span>   <span class="attr">content</span>=<span class="string">"width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Vod<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//g.alicdn.com/de/prismplayer/2.6.0/skins/default/aliplayer-min.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//g.alicdn.com/de/prismplayer/2.6.0/aliplayer-min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"prism-player"</span> <span class="attr">id</span>=<span class="string">"J_prismPlayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> player = <span class="keyword">new</span> Aliplayer(&#123;</span></span><br><span class="line"><span class="actionscript">    id: <span class="string">"J_prismPlayer"</span>,</span></span><br><span class="line"><span class="actionscript">    autoplay: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">    width:<span class="string">"100%"</span>,</span></span><br><span class="line"><span class="actionscript">    vid:<span class="string">"your video id"</span>,</span></span><br><span class="line"><span class="actionscript">    playauth:<span class="string">'your video palyAuth'</span>,</span></span><br><span class="line"><span class="actionscript">    cover:<span class="string">''</span></span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200714092608.png" alt="image-20200714092600825"></p>
<h3 id="3-2、后端接口"><a href="#3-2、后端接口" class="headerlink" title="3.2、后端接口"></a>3.2、后端接口</h3><p>分析：从上面的测试可以看到，后端只需要获取播放凭证，并返回前端即可</p>
<p>补充：因为需要根据videoSourceId获取播放凭证，需要在封装类videoVo.java补充该字段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VideoVo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String videoSourceId;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="controller层-2"><a href="#controller层-2" class="headerlink" title="controller层"></a>controller层</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取阿里云视频播放凭证</span></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/getPlayAuth/&#123;videoId&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> R <span class="title">getPlayAuth</span><span class="params">(@PathVariable String videoId)</span></span>&#123;</span><br><span class="line">    String playAuth = vodService.getPlayAuth(videoId);</span><br><span class="line">    <span class="keyword">if</span> (!StringUtils.isEmpty(playAuth))&#123;</span><br><span class="line">        <span class="keyword">return</span> R.ok().data(<span class="string">"playAuth"</span>,playAuth);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> R.error().message(<span class="string">"获取视频播放凭证失败"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="service层-2"><a href="#service层-2" class="headerlink" title="service层"></a>service层</h4><p>接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">String <span class="title">getPlayAuth</span><span class="params">(String videoId)</span></span>;</span><br></pre></td></tr></table></figure>

<p>实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取播放凭证</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPlayAuth</span><span class="params">(String videoId)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//初始化对象</span></span><br><span class="line">        DefaultAcsClient client = InitVod.initVodClient(ConstantVodUtils.KEY_ID, ConstantVodUtils.KEY_SECRET);</span><br><span class="line">        <span class="comment">//创建请求对象</span></span><br><span class="line">        GetVideoPlayAuthRequest request = <span class="keyword">new</span> GetVideoPlayAuthRequest();</span><br><span class="line">        <span class="comment">//设置id</span></span><br><span class="line">        request.setVideoId(videoId);</span><br><span class="line">        <span class="comment">//执行请求并获取响应数据</span></span><br><span class="line">        GetVideoPlayAuthResponse response = client.getAcsResponse(request);</span><br><span class="line">        String playAuth = response.getPlayAuth();</span><br><span class="line">        <span class="keyword">return</span> playAuth;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClientException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3、前端接口"><a href="#3-3、前端接口" class="headerlink" title="3.3、前端接口"></a>3.3、前端接口</h3><h4 id="api-2"><a href="#api-2" class="headerlink" title="api"></a>api</h4><p>提示：在api目录下新建一个接口video.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">"@/utils/request.js"</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">//获取播放凭证</span></span><br><span class="line">    getPlayAuth(videoId)&#123;</span><br><span class="line">        <span class="keyword">return</span> request(&#123;</span><br><span class="line">            url: <span class="string">`/eduvod/video/getPlayAuth/<span class="subst">$&#123;videoId&#125;</span>`</span>,</span><br><span class="line">            method: <span class="string">'get'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="播放布局："><a href="#播放布局：" class="headerlink" title="播放布局："></a>播放布局：</h4><p>分析：想要的效果：点击某小节后，在新的浏览器窗口进行播放，而此时播放页面的布局不一样了，所以我们需要在layouts新建一个播放布局video.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;guli-player&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;head&quot;&gt;</span><br><span class="line">      &lt;a href&#x3D;&quot;#&quot; title&#x3D;&quot;谷粒学院&quot;&gt;</span><br><span class="line">        &lt;img class&#x3D;&quot;logo&quot; src&#x3D;&quot;~&#x2F;assets&#x2F;img&#x2F;logo.png&quot; lt&#x3D;&quot;谷粒学院&quot;&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;body&quot;&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;content&quot;&gt;&lt;nuxt&#x2F;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">html,body&#123;</span><br><span class="line">  height:100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.head &#123;</span><br><span class="line">  height: 50px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.head .logo&#123;</span><br><span class="line">  height: 50px;</span><br><span class="line">  margin-left: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.body &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50px;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="播放页面"><a href="#播放页面" class="headerlink" title="播放页面"></a>播放页面</h4><p>准备工作：因为点击不同小节，会跳转到不同的视频播放页面，这是一种动态路由，所以需要在course的_id.vue中配置跳转地址</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a :href=<span class="string">"'/player/' + video.videoSourceId"</span> :title=<span class="string">"video.title"</span> target=<span class="string">"_blank"</span>&gt;</span><br></pre></td></tr></table></figure>

<p>其中video.videoSourceId就是添加新字段的作用，target=”_blank”表示在新窗口中打开</p>
<p>播放页面：因为是在新的窗口中打开播放，需要在pages新建一个player目录，并新建_vid.vue</p>
<p>_vid.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 阿里云视频播放器样式 --&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;&#x2F;g.alicdn.com&#x2F;de&#x2F;prismplayer&#x2F;2.6.0&#x2F;skins&#x2F;default&#x2F;aliplayer-min.css&quot; &#x2F;&gt;</span><br><span class="line">    &lt;!-- 阿里云视频播放器脚本 --&gt;</span><br><span class="line">    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;&#x2F;&#x2F;g.alicdn.com&#x2F;de&#x2F;prismplayer&#x2F;2.6.0&#x2F;aliplayer-min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 定义播放器dom --&gt;</span><br><span class="line">    &lt;div  class&#x3D;&quot;prism-player&quot; id&#x3D;&quot;J_prismPlayer&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import video from &#39;@&#x2F;api&#x2F;video&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    layout: &#39;video&#39;,&#x2F;&#x2F;应用video布局</span><br><span class="line">    asyncData(&#123; params, error &#125;) &#123;</span><br><span class="line">       return video.getPlayAuth(params.vid)</span><br><span class="line">        .then(response &#x3D;&gt; &#123;</span><br><span class="line">            return &#123; </span><br><span class="line">                playAuth: response.data.data.playAuth,</span><br><span class="line">                vid: params.vid</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123; &#x2F;&#x2F;页面渲染之后  created</span><br><span class="line">        new Aliplayer(&#123;</span><br><span class="line">            id: &#39;J_prismPlayer&#39;,</span><br><span class="line">            vid: this.vid, &#x2F;&#x2F; 视频id</span><br><span class="line">            playauth: this.playAuth, &#x2F;&#x2F; 播放凭证</span><br><span class="line">            encryptType: &#39;1&#39;, &#x2F;&#x2F; 如果播放加密视频，则需设置encryptType&#x3D;1，非加密视频无需设置此项</span><br><span class="line">            width: &#39;100%&#39;,</span><br><span class="line">            height: &#39;500px&#39;,</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 以下可选设置</span><br><span class="line">            cover: &#39;http:&#x2F;&#x2F;guli.shop&#x2F;photo&#x2F;banner&#x2F;1525939573202.jpg&#39;, &#x2F;&#x2F; 封面</span><br><span class="line">            qualitySort: &#39;asc&#39;, &#x2F;&#x2F; 清晰度排序</span><br><span class="line"></span><br><span class="line">            mediaType: &#39;video&#39;, &#x2F;&#x2F; 返回音频还是视频</span><br><span class="line">            autoplay: false, &#x2F;&#x2F; 自动播放</span><br><span class="line">            isLive: false, &#x2F;&#x2F; 直播</span><br><span class="line">            rePlay: false, &#x2F;&#x2F; 循环播放</span><br><span class="line">            preload: true,</span><br><span class="line">            controlBarVisibility: &#39;hover&#39;, &#x2F;&#x2F; 控制条的显示方式：鼠标悬停</span><br><span class="line">            useH5Prism: true, &#x2F;&#x2F; 播放器类型：html5</span><br><span class="line">        &#125;, function(player) &#123;</span><br><span class="line">            console.log(&#39;播放器创建成功&#39;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="效果测试-2"><a href="#效果测试-2" class="headerlink" title="效果测试"></a>效果测试</h4><p><img src= "/img/loading.gif" data-src="https://my-pic-bed-01.oss-cn-shenzhen.aliyuncs.com/img/20200714101448.png" alt="image-20200714101447854"></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ryan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/">http://yoursite.com/2020/07/14/%E8%B0%B7%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day08%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E8%AE%B2%E5%B8%88-%E8%AF%BE%E7%A8%8B%E9%A1%B5%E9%9D%A2%E5%BC%80%E5%8F%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">Ryan</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a><a class="post-meta__tags" href="/tags/springboot/">springboot</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="wechat" onclick="window.open('/img/wechat.jpg')"/><div class="post-qr-code__desc">wechat</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/07/15/%E7%B2%92%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day09%E2%80%94%E8%AF%BE%E7%A8%8B%E8%AE%A2%E5%8D%95%E5%92%8C%E5%BE%AE%E4%BF%A1%E6%94%AF%E4%BB%98/"><img class="prev-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">谷粒学院实战day09—课程订单和微信支付</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/11/%E5%AD%A6%E9%99%A2%E5%AE%9E%E6%88%98day07%E2%80%94%E5%AE%A2%E6%88%B7%E5%89%8D%E5%8F%B0%E7%99%BB%E9%99%86%E5%8A%9F%E8%83%BD%E5%BC%80%E5%8F%91-jwt-%EF%BC%89/"><img class="next-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">谷粒学院实战day07—客户前台登陆功能开发(jwt)）</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/06/24/ringboot-vue前后端分离博客项目/" title="springboot+vue前后端分离博客项目"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-06-24</div><div class="relatedPosts_title">springboot+vue前后端分离博客项目</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/04/学院实战day03—阿里云对象存储-niginx-easyexcel-课程分类模块开发/" title="谷粒学院实战day03—阿里云对象存储+niginx+easyexcel+课程分类模块开发"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-04</div><div class="relatedPosts_title">谷粒学院实战day03—阿里云对象存储+niginx+easyexcel+课程分类模块开发</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/06/粒学院实战day04—课程管理开发-1/" title="谷粒学院实战day04—课程管理开发(1)"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-06</div><div class="relatedPosts_title">谷粒学院实战day04—课程管理开发(1)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/08/学院实战day05—课程管理开发-2-微服务springcloud/" title="谷粒学院实战day05—课程管理开发(2)+微服务springcloud"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-08</div><div class="relatedPosts_title">谷粒学院实战day05—课程管理开发(2)+微服务springcloud</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/10/学院实战day06—客户前台开发-整合redis/" title="谷粒学院实战day06—客户前台开发+整合redis"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-10</div><div class="relatedPosts_title">谷粒学院实战day06—客户前台开发+整合redis</div></div></a></div><div class="relatedPosts_item"><a href="/2020/07/11/学院实战day07—客户前台登陆功能开发-jwt-）/" title="谷粒学院实战day07—客户前台登陆功能开发(jwt)）"><img class="relatedPosts_cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-11</div><div class="relatedPosts_title">谷粒学院实战day07—客户前台登陆功能开发(jwt)）</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'hCTAXV9K2j6lRxnNWaeqXmHJ-gzGzoHsz',
  appKey: 'bL3PlAeQjsLS33uYxl0f7BVr',
  placeholder: '记得留下你的昵称和邮箱，可以快速收到回复哦',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-CN',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: false,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Ryan</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text"><a href="https://ryan0824.github.io/" target="_blank" rel="noopener">Hi, welcome to myblog</a>!</div><div class="icp"><a><img class="icp-icon" src="/img/icp.png"/><span>粤ICP备20003954号-1</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font_plus" title="放大字体"><i class="fas fa-plus"></i></button><button id="font_minus" title="缩小字体"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="简繁转换">繁</button><button id="darkmode" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="设置"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script><script src="/js/search/local-search.js"></script></body></html>